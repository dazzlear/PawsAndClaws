@model PawsAndClaws.Models.AddPetViewModel

@{
    Layout = "_AuthLayout";
    ViewData["Title"] = "Tell us about them";
}

@section AuthImages {
    <img src="~/images/Register.png" 
         alt="Registration Illustration" 
         class="absolute bottom-0 left-0 w-64 md:w-80 lg:w-[400px] h-auto pointer-events-none select-none z-0 hidden md:block" />

    <img src="~/images/Paws.png" 
         alt="Decorative Paw" 
         class="absolute right-16 top-1/2 -translate-y-1/2 w-48 lg:w-72 h-auto pointer-events-none select-none z-0" />
}

<partial name="_AuthHeader" model='("Tell us about", "them", "Add all the pets you currently have at home.", (int?)3)' />

<div class="bg-white rounded-[40px] shadow-sm p-8 md:p-12 w-full border border-gray-50">
    
    <div class="mb-8">
        @{
            var pets = ViewBag.Pets as List<PawsAndClaws.Models.AddPetViewModel> ?? new List<PawsAndClaws.Models.AddPetViewModel>();
        }
        <h3 class="text-[10px] font-black text-gray-400 tracking-widest uppercase mb-3">My Current Pets (@pets.Count)</h3>
        <div class="flex flex-wrap gap-3">
            @for (int i = 0; i < pets.Count; i++)
            {
                var pet = pets[i];
                <div class="inline-flex items-center gap-3 bg-[#FFF4ED] border border-[#F87004] rounded-full px-4 py-2">
                    <div class="flex flex-col">
                        <span class="text-[#F87004] font-bold text-xs">@pet.Breed</span>
                        <span class="text-[#F87004]/70 text-[10px]">@pet.Age â€¢ @pet.Sex</span>
                    </div>
                    <button type="submit" name="action" value="RemovePet:@i" class="text-[#F87004] hover:bg-orange-100 rounded-full p-1 transition-colors" formnovalidate form="registerStep3Form">
                        <i data-lucide="x" class="w-4 h-4"></i>
                    </button>
                </div>
            }
        </div>
    </div>

    <form id="registerStep3Form" asp-action="ProcessStep3" method="post" class="w-full space-y-6">
                <div class="space-y-2">
                    <label class="text-[10px] font-black text-gray-400 tracking-widest uppercase ml-4">Breed</label>
                    <input asp-for="Breed" placeholder="e.g. Labrador" class="w-full px-6 py-4 bg-white border border-gray-100 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-[#56C2B1]/20 transition-all" />
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-2">
                        <label class="text-[10px] font-black text-gray-400 tracking-widest uppercase ml-4">Age</label>
                        <input asp-for="Age" placeholder="e.g. 3 years" class="w-full px-6 py-4 bg-white border border-gray-100 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-[#56C2B1]/20 transition-all" />
                    </div>
                    <div class="space-y-2">
                        <label class="text-[10px] font-black text-gray-400 tracking-widest uppercase ml-4">Sex</label>
                        <input asp-for="Sex" placeholder="Male" class="w-full px-6 py-4 bg-white border border-gray-100 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-[#56C2B1]/20 transition-all" />
                    </div>
                </div>

                <button type="submit" name="action" value="AddPet" class="w-full border-2 border-dashed border-gray-200 rounded-2xl py-4 flex items-center justify-center gap-2 text-gray-400 font-bold text-sm hover:border-[#56C2B1] hover:text-[#56C2B1] transition-all">
                    <i data-lucide="plus" class="w-4 h-4"></i>
                    Add This Pet
                </button>

                <div class="flex gap-4 mt-10">
                    <a asp-action="RegisterStep2" class="flex-1 text-center py-4 rounded-full border-2 border-gray-100 text-gray-400 font-bold hover:bg-gray-50 transition-all">
                        Back
                    </a>
                    <button type="submit" name="action" value="Proceed" class="flex-[2] bg-gradient-to-r from-[#178F85] via-[#66BBB4] to-[#90EFE7] text-white font-bold py-4 rounded-full shadow-lg shadow-teal-100 flex items-center justify-center gap-2 hover:opacity-95 transition-all transform hover:scale-[1.01] active:scale-[0.99]">
                        Proceed
                        <i data-lucide="arrow-right" class="w-5 h-5"></i>
                    </button>
                </div>

            </form>
        </div>
    </div>
</div>