@model PawsAndClaws.Models.PetCardViewModel

<div class="pet-card relative w-72 h-[400px] rounded-3xl overflow-hidden shadow-lg group mx-auto transition-transform transform hover:scale-[1.02] pointer-events-none"
     data-species="@Model.Species"
     data-gender="@Model.Gender"
     data-size="@Model.Size"
     data-name="@Model.Name.ToLower()"
     data-breed="@Model.Breed.ToLower()">
    <a href="@Url.Action("Details", "Home", new { name = Model.Name })" class="absolute inset-0 z-10 pointer-events-auto" style="cursor:pointer;" aria-label="View details for @Model.Name"></a>
    <img src="@Url.Content(Model.ImageUrl)" class="absolute inset-0 w-full h-full object-cover" />
    
    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>

    <div class="absolute top-5 right-5">
        @{
            var statusVariant = Model.Status.ToLower() switch {
                "pending" => "info",
                "adopted" => "neutral",
                "available" => "success",
                _ => "neutral"
            };
        }
        <partial name="_Badge" model='new BadgeViewModel { Text = Model.Status, Variant = statusVariant }' />
    </div>

    <div class="absolute bottom-0 p-8 text-white w-full">
        <h2 class="text-xl font-bold mb-2">@Model.Name</h2>
        <p class="text-xs opacity-90">@Model.Breed • @Model.Age @(Model.Age == 1 ? "year" : "years") • @Model.Gender</p>
        <p class="text-xs mt-2 flex items-center"><i data-lucide="map-pin" class="w-4 h-4 mr-2"></i> @Model.Location</p>
        
        @{
            var btnText = "ADOPT NOW";
            var btnVariant = "primary";
            string? btnIcon = "arrow-right";
            var btnClass = "mt-4 w-full pointer-events-auto";

            if (string.Equals(Model.Status, "Pending", StringComparison.OrdinalIgnoreCase))
            {
                btnText = "PENDING";
                btnVariant = "outline";
                btnIcon = null;
                // Adjust for the dark background
                btnClass += " text-white border-white hover:bg-white/20 hover:text-white";
            }
            else if (string.Equals(Model.Status, "Adopted", StringComparison.OrdinalIgnoreCase))
            {
                btnText = "ADOPTED";
                btnVariant = "outline";
                btnIcon = null;
                // Adjust for the dark background
                btnClass += " text-white hover:bg-white/20 hover:text-white";
            }
        }
        <partial name="_Button" model='new ButtonViewModel { Text = btnText, Variant = btnVariant, Icon = btnIcon, ClassName = btnClass }' />
        
    </div>
</div>